# Notion CRM Schema（韓國童裝代購 - 代購制無庫存）

---

## 🛍️ 1. 主商品資料表（Products）
| 欄位名稱       | 資料型態   | 說明                          |
|----------------|------------|-------------------------------|
| product_id     | 自動編號   | 系統唯一商品識別碼            |
| 商品名稱        | 文字        | 主商品名稱，如：荷葉邊上衣     |
| 商品編號        | 文字        | 自訂商品代碼，例如 0001       |
| 商品圖片        | 圖片        | 商品主視覺圖                   |
| Variant 變體    | Relation    | Relation to `Variants` 表     |
| 主分類          | 選擇        | 例如：衣物 / 生活雜貨 / 飾品等 |
| 子分類          | 多選        | 例如：洋裝 / 褲裝 / 杯架等     |
| 狀態            | 選擇        | 現貨 / 預購 / 停售              |

---

## 🎨 2. 商品變體資料表（Variants）
| 欄位名稱       | 資料型態   | 說明                                      |
|----------------|------------|-------------------------------------------|
| variant_id     | 自動編號   | 系統唯一識別碼                            |
| 所屬商品        | Relation    | Relation to `Products` 表                 |
| 款式            | 文字        | 如：包屁款 / 洋裝款（可選）              |
| 顏色            | 選擇        | 如：米白、灰藍、粉紅（可選）             |
| 尺寸            | 選擇        | S / M / L / XL（或 80cm, 90cm, 100cm）   |
| 性別區分        | 選擇        | 男女通用 / 男 / 女（可選）               |
| 價格            | 數字        | 售價                                      |
| 成本            | 數字        | 向廠商拿貨成本（可選）                   |
| 商品圖片        | 圖片        | 對應顏色或尺寸的圖片                      |
| 狀態            | 選擇        | 可訂購 / 停售 / 已斷貨                   |

---

## 👤 3. 客戶資料表（Customers）
| 欄位名稱       | 資料型態   | 說明                          |
|----------------|------------|-------------------------------|
| 客戶編號       | 自動編號   | 系統唯一識別碼 (CUST-001)     |
| 客戶姓名       | 標題       | 客戶真實姓名或暱稱             |
| LINE ID        | 文字       | LINE 使用者的 UID             |
| 電話           | 電話號碼   | 聯絡電話                      |
| 收件方式       | 選項       | 宅配到府 / 7-11店到店 / 全家店到店 / 萊爾富店到店 / OK店到店 |
| 收件地址       | 文字       | 多行文字，完整收件地址或門市資訊 |
| 註冊時間       | 建立時間   | 自動記錄客戶註冊時間           |
| 客戶等級       | 選項       | 一般會員 / VIP會員 / 黑名單    |
| 生日           | 日期       | 客戶生日（行銷用）             |
| 備註           | 文字       | 多行文字，客戶特殊需求或備註    |
| 總消費金額     | 公式       | 自動計算所有訂單總和           |
| 訂單次數       | 公式       | 自動計算訂單數量              |
| **最後下單**   | **日期**   | **最後一次下單時間**           |

---

## 📦 4. 訂單資料表（Orders）
| 欄位名稱       | 資料型態   | 說明                               |
|----------------|------------|------------------------------------|
| 訂單編號       | 自動編號   | 訂單流水號 (ORDER-001)             |
| 客戶           | 關聯       | 關聯到 `Customers` 表              |
| 收件人姓名     | 文字       | 單行文字                           |
| 收件人電話     | 電話號碼   | 聯絡電話                           |
| 收件方式       | 選項       | 宅配到府 / 7-11店到店 / 全家店到店 / 萊爾富店到店 / OK店到店 |
| 收件地址       | 文字       | 多行文字，完整收件地址或門市資訊   |
| 建立時間       | 建立時間   | 下單時間                           |
| 訂單狀態       | 選項       | 待付款 / 已付款 / 配貨中 / 已出貨 / 已完成 / 已取消 |
| 付款方式       | 選項       | 銀行轉帳 / LINE Pay / 貨到付款     |
| 付款狀態       | 選項       | 未付款 / 已付款 / 部分付款         |
| 總金額         | 公式       | 自動計算所有訂單項目的加總         |
| 運費           | 數字       | 運送費用                           |
| 折扣金額       | 數字       | 優惠折扣金額                       |
| 實付金額       | 公式       | 總金額 + 運費 - 折扣金額           |
| 預計到貨日     | 日期       | 預估到貨時間                       |
| 備註           | 文字       | 多行文字，訂單特殊需求             |
| **併單狀態**   | **選項**   | **待併單 / 已併單 / 部分出貨 / 已完成** |
| **父訂單**     | **關聯**   | **關聯到父訂單（用於拆單）**       |
| **出貨批次**   | **關聯**   | **關聯到 `Shipments` 表**          |
| **預計到貨**   | **日期**   | **預計到貨時間**                   |

---

## 🧾 5. 訂單項目明細表（Order Items）
| 欄位名稱       | 資料型態   | 說明                                |
|----------------|------------|-------------------------------------|
| 項目編號       | 自動編號   | 明細流水碼 (ITEM-001)               |
| 所屬訂單       | 關聯       | 關聯到 `Orders` 表                  |
| 商品變體       | 關聯       | 關聯到 `Variants` 表                |
| 商品名稱       | 文字       | 商品變體的名稱                      |
| 數量           | 數字       | 該變體的購買數量                    |
| 單價           | 數字       | 變體的售價                          |
| 小計           | 公式       | 數量 × 單價                         |
| 配貨狀態       | 選項       | 待確認 / 已配貨 / 缺貨 / 已發貨     |
| 備註           | 文字       | 該項目的特殊備註                    |
| **到貨狀態**   | **選項**   | **未到貨 / 已到貨 / 已出貨**        |
| **出貨批次**   | **關聯**   | **關聯到 `Shipments` 表**           |
| **實際到貨**   | **日期**   | **實際到貨時間**                    |

---

## 🚚 6. 出貨批次表（Shipments）**【新增】**
| 欄位名稱       | 資料型態   | 說明                                |
|----------------|------------|-------------------------------------|
| 批次編號       | 自動編號   | 出貨批次流水號 (SHIP-001)           |
| 批次名稱       | 標題       | 出貨批次名稱                        |
| 客戶           | 關聯       | 關聯到 `Customers` 表               |
| 相關訂單       | 關聯       | 關聯到 `Orders` 表（多選）          |
| **相關商品項目** | **關聯**   | **關聯到 `Order Items` 表（多選）** |
| 批次狀態       | 選項       | 待付款 / 已付款 / 已出貨 / 已完成   |
| **總金額**     | **Rollup** | **彙總相關商品項目的小計總和**       |
| 運費           | 數字       | 運送費用                            |
| 建立時間       | 建立時間   | 批次建立時間                        |
| 付款時間       | 日期       | 客戶付款時間                        |
| 出貨時間       | 日期       | 實際出貨時間                        |
| 追蹤號碼       | 文字       | 物流追蹤號碼                        |
| 收件資訊       | 文字       | 收件人詳細資訊                      |
| 備註           | 文字       | 出貨批次備註                        |

---

## 📊 7. 銷售報表（Dashboard 視圖）
### 📈 營收統計
- 今日營收
- 本週營收  
- 本月營收
- 年度營收

### 🔥 熱銷分析
- 熱銷商品排行榜
- 熱銷變體排行榜
- 客戶購買頻率分析

### 👥 客戶分析
- 新客戶統計
- VIP 客戶消費分析
- 客戶地區分布
- 併單分析

### 📦 訂單統計
- 待處理訂單數
- 配貨中訂單數
- 已完成訂單數
- 平均訂單金額
- **併單效率分析**
- **出貨批次統計**

---

## 🎯 8. 自動化工作流程
### 📱 LINE Bot 整合
- 新訂單自動建立客戶資料
- **自動併單邏輯**
- 訂單狀態更新自動通知客戶
- VIP 客戶自動標記
- **額度檢查自動化**

### 🔔 通知設定
- 新訂單 → LINE Notify 通知管理員
- **併單提醒 → 超過額度警告**
- 付款完成 → 自動更新訂單狀態
- 出貨完成 → 自動發送追蹤號碼
- **批次到貨 → 付款請求通知**

---

📌 **設計者**：AI Assistant  
🕒 **最後更新**：2025-08-01  
📘 **說明**：本 schema 專為韓國童裝代購業務設計，支援併單、拆單、分批出貨等彈性業務流程  