<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyndiÈüìÂúãÁ´•Ë£ù‰ª£Ë≥º - ÁÆ°ÁêÜÂæåÂè∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="admin.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .sidebar {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .sidebar .nav-link {
            color: rgba(255, 255, 255, 0.8);
            border-radius: 0.5rem;
            margin: 0.2rem 0;
            transition: all 0.3s;
        }
        .sidebar .nav-link:hover,
        .sidebar .nav-link.active {
            color: white;
            background-color: rgba(255, 255, 255, 0.2);
        }
        .main-content {
            padding: 2rem;
        }
        .stat-card {
            border: none;
            border-radius: 1rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            transition: transform 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-2px);
        }
        .table-card {
            border: none;
            border-radius: 1rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        .btn-admin {
            border-radius: 0.5rem;
            font-weight: 500;
        }
        .page-title {
            color: #495057;
            font-weight: 600;
            margin-bottom: 2rem;
        }
        .status-badge {
            font-size: 0.75rem;
            padding: 0.5rem 0.75rem;
            border-radius: 1rem;
        }
        .chart-container {
            position: relative;
            height: 300px;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- ÂÅ¥ÈÇäÊ¨Ñ -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar">
                <div class="p-3">
                    <h4 class="text-center mb-4">
                        <i class="fas fa-store me-2"></i>
                        ÁÆ°ÁêÜÂæåÂè∞
                    </h4>
                    
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="#dashboard" onclick="showSection('dashboard')">
                                <i class="fas fa-tachometer-alt me-2"></i>
                                ÂÑÄË°®Êùø
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#orders" onclick="showSection('orders')">
                                <i class="fas fa-shopping-cart me-2"></i>
                                Ë®ÇÂñÆÁÆ°ÁêÜ
                            </a>
                        </li>
                        
                        <li class="nav-item">
                            <a class="nav-link" href="#customers" onclick="showSection('customers')">
                                <i class="fas fa-users me-2"></i>
                                ÂÆ¢Êà∂ÁÆ°ÁêÜ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#products" onclick="showSection('products')">
                                <i class="fas fa-box me-2"></i>
                                ÂïÜÂìÅÁÆ°ÁêÜ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#reports" onclick="showSection('reports')">
                                <i class="fas fa-chart-line me-2"></i>
                                Èä∑ÂîÆÂ†±Ë°®
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#notifications" onclick="showSection('notifications')">
                                <i class="fas fa-bell me-2"></i>
                                ÈÄöÁü•ÁÆ°ÁêÜ
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#settings" onclick="showSection('settings')">
                                <i class="fas fa-cog me-2"></i>
                                Á≥ªÁµ±Ë®≠ÂÆö
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 main-content">
                <!-- ÂÑÄË°®Êùø -->
                <div id="dashboard" class="content-section">
                    <h1 class="page-title">
                        <i class="fas fa-tachometer-alt me-2"></i>
                        ÁÆ°ÁêÜÂÑÄË°®Êùø
                    </h1>

                    <!-- Áµ±Ë®àÂç°Áâá -->
                    <div class="row mb-4">
                        <div class="col-md-3 mb-3">
                            <div class="card stat-card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-shopping-cart fa-2x text-primary mb-2"></i>
                                    <h3 class="card-title text-primary" id="totalOrders">-</h3>
                                    <p class="card-text text-muted">Á∏ΩË®ÇÂñÆÊï∏</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card stat-card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-clock fa-2x text-warning mb-2"></i>
                                    <h3 class="card-title text-warning" id="pendingOrders">-</h3>
                                    <p class="card-text text-muted">ÂæÖËôïÁêÜË®ÇÂñÆ</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card stat-card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-dollar-sign fa-2x text-success mb-2"></i>
                                    <h3 class="card-title text-success" id="totalRevenue">-</h3>
                                    <p class="card-text text-muted">Á∏ΩÁáüÊî∂</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card stat-card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-users fa-2x text-info mb-2"></i>
                                    <h3 class="card-title text-info" id="totalCustomers">-</h3>
                                    <p class="card-text text-muted">Á∏ΩÂÆ¢Êà∂Êï∏</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂúñË°®ÂíåÊúÄËøëË®ÇÂñÆ -->
                    <div class="row">
                        <div class="col-md-8 mb-4">
                            <div class="card table-card">
                                <div class="card-header">
                                    <h5><i class="fas fa-chart-line me-2"></i>Èä∑ÂîÆË∂®Âã¢</h5>
                                </div>
                                <div class="card-body">
                                    <div class="chart-container">
                                        <canvas id="salesChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-4">
                            <div class="card table-card">
                                <div class="card-header">
                                    <h5><i class="fas fa-list me-2"></i>ÊúÄËøëË®ÇÂñÆ</h5>
                                </div>
                                <div class="card-body" id="recentOrders">
                                    <div class="text-center text-muted">
                                        <i class="fas fa-spinner fa-spin"></i>
                                        ËºâÂÖ•‰∏≠...
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ë®ÇÂñÆÁÆ°ÁêÜ -->
                <div id="orders" class="content-section" style="display: none;">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h1 class="page-title">
                            <i class="fas fa-shopping-cart me-2"></i>
                            Ë®ÇÂñÆÁÆ°ÁêÜ
                        </h1>
                        <button class="btn btn-primary" onclick="loadOrders()">
                            <i class="fas fa-sync-alt me-2"></i>ÈáçÊñ∞Êï¥ÁêÜ
                        </button>
                    </div>

                    <!-- Âø´ÈÄüÁØ©ÈÅ∏Ê®ôÁ±§ -->
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <button class="btn btn-outline-primary me-2" onclick="filterOrdersByStatus('')">
                                    <i class="fas fa-list me-1"></i>ÂÖ®ÈÉ®Ë®ÇÂñÆ
                                </button>
                                <button class="btn btn-outline-warning me-2" onclick="filterOrdersByMergeStatus('ÂæÖ‰ΩµÂñÆ')">
                                    <i class="fas fa-clock me-1"></i>ÂæÖ‰ΩµÂñÆ <span id="pendingMergeCount" class="badge bg-warning ms-1">0</span>
                                </button>
                                <button class="btn btn-outline-info me-2" onclick="filterOrdersByStatus('Â∑≤‰ªòÊ¨æ')">
                                    <i class="fas fa-check-circle me-1"></i>Â∑≤‰ªòÊ¨æ
                                </button>
                                <button class="btn btn-outline-success me-2" onclick="filterOrdersByStatus('Â∑≤ÂÆåÊàê')">
                                    <i class="fas fa-flag-checkered me-1"></i>Â∑≤ÂÆåÊàê
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-success" onclick="showBatchMergeModal()" style="display:none;" id="batchMergeBtn">
                                    <i class="fas fa-layer-group me-2"></i>ÊâπÈáè‰ΩµÂñÆËôïÁêÜ
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- ÁØ©ÈÅ∏Âô® -->
                    <div class="card table-card mb-4">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-2">
                                    <select class="form-select" id="orderStatusFilter">
                                        <option value="">ÊâÄÊúâÁãÄÊÖã</option>
                                        <option value="ÂæÖ‰ªòÊ¨æ">üü° ÂæÖ‰ªòÊ¨æ</option>
                                        <option value="Â∑≤‰ªòÊ¨æ">üü¢ Â∑≤‰ªòÊ¨æ</option>
                                        <option value="ÈÖçË≤®‰∏≠">üîµ ÈÖçË≤®‰∏≠</option>
                                        <option value="Â∑≤Âá∫Ë≤®">üü£ Â∑≤Âá∫Ë≤®</option>
                                        <option value="Â∑≤ÂÆåÊàê">‚ö™ Â∑≤ÂÆåÊàê</option>
                                        <option value="Â∑≤ÂèñÊ∂à">üî¥ Â∑≤ÂèñÊ∂à</option>
                                        <option value="ÈÄÄË≤®‰∏≠">üü® ÈÄÄË≤®‰∏≠</option>
                                        <option value="ÈÄÄÊ¨æ‰∏≠">üü† ÈÄÄÊ¨æ‰∏≠</option>
                                        <option value="Á≥æÁ¥õ‰∏≠">‚ö´ Á≥æÁ¥õ‰∏≠</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <select class="form-select" id="mergeStatusFilter">
                                        <option value="">‰ΩµÂñÆÁãÄÊÖã</option>
                                        <option value="ÂæÖ‰ΩµÂñÆ">ÂæÖ‰ΩµÂñÆ</option>
                                        <option value="Â∑≤‰ΩµÂñÆ">Â∑≤‰ΩµÂñÆ</option>
                                        <option value="ÈÉ®ÂàÜÂá∫Ë≤®">ÈÉ®ÂàÜÂá∫Ë≤®</option>
                                    </select>
                                </div>
                                <div class="col-md-5">
                                    <input type="text" class="form-control" id="orderSearch" placeholder="ÊêúÂ∞ãË®ÇÂñÆÁ∑®ËôüÊàñÂÆ¢Êà∂ÂßìÂêç...">
                                </div>
                                <div class="col-md-3">
                                    <button class="btn btn-primary btn-admin w-100" onclick="loadOrders()">
                                        <i class="fas fa-search me-2"></i>ÊêúÂ∞ã
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ë®ÇÂñÆÂàóË°® -->
                    <div class="card table-card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th width="15%">Ë®ÇÂñÆÁ∑®Ëôü</th>
                                            <th width="15%">ÂÆ¢Êà∂</th>
                                            <th width="10%">ÈáëÈ°ç</th>
                                            <th width="12%">Ë®ÇÂñÆÁãÄÊÖã</th>
                                            <th width="12%">‰ΩµÂñÆÁãÄÊÖã</th>
                                            <th width="15%">‰∏ãÂñÆÊôÇÈñì</th>
                                            <th width="21%">Êìç‰Ωú</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ordersTable">
                                        <tr>
                                            <td colspan="7" class="text-center text-muted">
                                                <i class="fas fa-spinner fa-spin"></i>
                                                ËºâÂÖ•‰∏≠...
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÂÆ¢Êà∂ÁÆ°ÁêÜ -->
                <div id="customers" class="content-section" style="display: none;">
                    <h1 class="page-title">
                        <i class="fas fa-users me-2"></i>
                        ÂÆ¢Êà∂ÁÆ°ÁêÜ
                    </h1>

                    <!-- ÁØ©ÈÅ∏Âô® -->
                    <div class="card table-card mb-4">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <select class="form-select" id="customerLevelFilter">
                                        <option value="">ÊâÄÊúâÁ≠âÁ¥ö</option>
                                        <option value="‰∏ÄËà¨ÊúÉÂì°">‰∏ÄËà¨ÊúÉÂì°</option>
                                        <option value="VIPÊúÉÂì°">VIPÊúÉÂì°</option>
                                        <option value="ÈªëÂêçÂñÆ">ÈªëÂêçÂñÆ</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control" id="customerSearch" placeholder="ÊêúÂ∞ãÂÆ¢Êà∂ÂßìÂêç„ÄÅÈõªË©±Êàñ LINE ID...">
                                </div>
                                <div class="col-md-3">
                                    <button class="btn btn-primary btn-admin w-100" onclick="loadCustomers()">
                                        <i class="fas fa-search me-2"></i>ÊêúÂ∞ã
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂÆ¢Êà∂Áµ±Ë®àÂç°Áâá -->
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-users fa-2x text-primary mb-2"></i>
                                    <h4 class="card-title text-primary" id="totalCustomersCount">-</h4>
                                    <p class="card-text text-muted">Á∏ΩÂÆ¢Êà∂Êï∏</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-crown fa-2x text-warning mb-2"></i>
                                    <h4 class="card-title text-warning" id="vipCustomersCount">-</h4>
                                    <p class="card-text text-muted">VIP ÂÆ¢Êà∂</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-shopping-cart fa-2x text-success mb-2"></i>
                                    <h4 class="card-title text-success" id="activeCustomersCount">-</h4>
                                    <p class="card-text text-muted">Ê¥ªË∫çÂÆ¢Êà∂</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-user-plus fa-2x text-info mb-2"></i>
                                    <h4 class="card-title text-info" id="newCustomersCount">-</h4>
                                    <p class="card-text text-muted">Êú¨ÊúàÊñ∞ÂÆ¢Êà∂</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂÆ¢Êà∂ÂàóË°® -->
                    <div class="card table-card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>ÂÆ¢Êà∂Ë≥áË®ä</th>
                                            <th>ËÅØÁµ°ÊñπÂºè</th>
                                            <th>Á≠âÁ¥ö</th>
                                            <th>Ë®ÇÂñÆÁµ±Ë®à</th>
                                            <th>Á∏ΩÊ∂àË≤ª</th>
                                            <th>ÊúÄÂæå‰∏ãÂñÆ</th>
                                            <th>Êìç‰Ωú</th>
                                        </tr>
                                    </thead>
                                    <tbody id="customersTableBody">
                                        <tr>
                                            <td colspan="7" class="text-center py-5">
                                                <div class="spinner-border text-primary" role="status">
                                                    <span class="visually-hidden">ËºâÂÖ•‰∏≠...</span>
                                                </div>
                                                <p class="mt-2 text-muted">ËºâÂÖ•ÂÆ¢Êà∂Ë≥áÊñô‰∏≠...</p>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- ÂàÜÈ†ÅÊéßÂà∂ -->
                            <nav aria-label="ÂÆ¢Êà∂ÂàÜÈ†Å" class="mt-3">
                                <ul class="pagination justify-content-center" id="customersPagination">
                                    <!-- ÂàÜÈ†ÅÊåâÈàïÂ∞áÁî± JavaScript ÁîüÊàê -->
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>

                <div id="products" class="content-section" style="display: none;">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h1 class="page-title mb-0">
                            <i class="fas fa-layer-group me-2"></i>
                            ÂïÜÂìÅËÆäÈ´îÁÆ°ÁêÜ
                        </h1>
                        <button class="btn btn-primary" onclick="showAddProductModal()">
                            <i class="fas fa-plus me-2"></i>Êñ∞Â¢ûÂïÜÂìÅ
                        </button>
                    </div>

                    <!-- ÊêúÂ∞ãÂíåÁØ©ÈÅ∏Âô® -->
                    <div class="card table-card mb-4">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <input type="text" class="form-control" id="productSearch" placeholder="ÊêúÂ∞ãÂïÜÂìÅÂêçÁ®±...">
                                </div>
                                <div class="col-md-2">
                                    <select class="form-select" id="styleFilter">
                                        <option value="">ÊâÄÊúâÊ¨æÂºè</option>
                                        <option value="ÂåÖÂ±ÅÊ¨æ">ÂåÖÂ±ÅÊ¨æ</option>
                                        <option value="ÂÖíÁ´•Ê¨æ">ÂÖíÁ´•Ê¨æ</option>
                                        <option value="Êº±Âè£ÊùØ">Êº±Âè£ÊùØ</option>
                                    </select>
                                </div>
                                <div class="col-md-1">
                                    <select class="form-select" id="colorFilter">
                                        <option value="">È°èËâ≤</option>
                                        <option value="ÁôΩËâ≤">ÁôΩËâ≤</option>
                                        <option value="Á≤âËâ≤">Á≤âËâ≤</option>
                                        <option value="ËóçËâ≤">ËóçËâ≤</option>
                                    </select>
                                </div>
                                <div class="col-md-1">
                                    <select class="form-select" id="sizeFilter">
                                        <option value="">Â∞∫ÂØ∏</option>
                                        <option value="S">S</option>
                                        <option value="M">M</option>
                                        <option value="L">L</option>
                                        <option value="XL">XL</option>
                                    </select>
                                </div>
                                <div class="col-md-1">
                                    <select class="form-select" id="genderFilter">
                                        <option value="">ÊÄßÂà•</option>
                                        <option value="Â•≥ÊÄß">Â•≥ÊÄß</option>
                                        <option value="Áî∑ÊÄß">Áî∑ÊÄß</option>
                                        <option value="ÈÄöÁî®">ÈÄöÁî®</option>
                                    </select>
                                </div>
                                <div class="col-md-1">
                                    <select class="form-select" id="productStatusFilter">
                                        <option value="">ÁãÄÊÖã</option>
                                        <option value="ÂèØË≥ºË≤∑">ÂèØË≥ºË≤∑</option>
                                        <option value="Â∑≤Êñ∑Ë≤®">Â∑≤Êñ∑Ë≤®</option>
                                        <option value="Â∑≤ÂîÆÂÆå">Â∑≤ÂîÆÂÆå</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <button class="btn btn-primary btn-admin w-100" onclick="loadProducts()">
                                        <i class="fas fa-search me-2"></i>ÊêúÂ∞ã
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂïÜÂìÅÁµ±Ë®àÂç°Áâá -->
                    <div class="row mb-4">
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-box fa-2x text-primary mb-2"></i>
                                    <h4 class="card-title text-primary" id="totalProductsCount">-</h4>
                                    <p class="card-text text-muted">Á∏ΩÂïÜÂìÅÊï∏</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-eye fa-2x text-success mb-2"></i>
                                    <h4 class="card-title text-success" id="activeProductsCount">-</h4>
                                    <p class="card-text text-muted">‰∏äÊû∂ÂïÜÂìÅ</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-fire fa-2x text-warning mb-2"></i>
                                    <h4 class="card-title text-warning" id="hotProductsCount">-</h4>
                                    <p class="card-text text-muted">ÁÜ±Èä∑ÂïÜÂìÅ</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-exclamation-triangle fa-2x text-danger mb-2"></i>
                                    <h4 class="card-title text-danger" id="lowStockCount">-</h4>
                                    <p class="card-text text-muted">Â∫´Â≠ò‰∏çË∂≥</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂïÜÂìÅÂàóË°® -->
                    <div class="card table-card">
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>ÂïÜÂìÅÂêçÁ®±</th>
                                            <th>ËÆäÈ´îË¶èÊ†º</th>
                                            <th>ÂÉπÊ†º</th>
                                            <th>Èä∑ÂîÆÁµ±Ë®à</th>
                                            <th>ÁãÄÊÖã</th>
                                            <th>Êìç‰Ωú</th>
                                        </tr>
                                    </thead>
                                    <tbody id="productsTableBody">
                                        <tr>
                                            <td colspan="7" class="text-center py-5">
                                                <div class="spinner-border text-primary" role="status">
                                                    <span class="visually-hidden">ËºâÂÖ•‰∏≠...</span>
                                                </div>
                                                <p class="mt-2 text-muted">ËºâÂÖ•ÂïÜÂìÅË≥áÊñô‰∏≠...</p>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- ÂàÜÈ†ÅÊéßÂà∂ -->
                            <nav aria-label="ÂïÜÂìÅÂàÜÈ†Å" class="mt-3">
                                <ul class="pagination justify-content-center" id="productsPagination">
                                    <!-- ÂàÜÈ†ÅÊåâÈàïÂ∞áÁî± JavaScript ÁîüÊàê -->
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>

                <div id="reports" class="content-section" style="display: none;">
                    <h1 class="page-title">
                        <i class="fas fa-chart-line me-2"></i>
                        Èä∑ÂîÆÂ†±Ë°®
                    </h1>

                    <!-- ÊôÇÈñìÁØÑÂúçÈÅ∏Êìá -->
                    <div class="card table-card mb-4">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <label for="reportStartDate" class="form-label">ÈñãÂßãÊó•Êúü</label>
                                    <input type="date" class="form-control" id="reportStartDate">
                                </div>
                                <div class="col-md-3">
                                    <label for="reportEndDate" class="form-label">ÁµêÊùüÊó•Êúü</label>
                                    <input type="date" class="form-control" id="reportEndDate">
                                </div>
                                <div class="col-md-2">
                                    <label for="reportPeriod" class="form-label">ÊôÇÈñìÂñÆ‰Ωç</label>
                                    <select class="form-select" id="reportPeriod">
                                        <option value="daily">Êó•</option>
                                        <option value="weekly">ÈÄ±</option>
                                        <option value="monthly">Êúà</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">&nbsp;</label>
                                    <button class="btn btn-primary btn-admin w-100 d-block" onclick="loadSalesReport()">
                                        <i class="fas fa-chart-bar me-2"></i>ÁîüÊàêÂ†±Ë°®
                                    </button>
                                </div>
                                <div class="col-md-2">
                                    <label class="form-label">&nbsp;</label>
                                    <button class="btn btn-success btn-admin w-100 d-block" onclick="exportReport()">
                                        <i class="fas fa-download me-2"></i>ÂåØÂá∫ CSV
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Â†±Ë°®ÊëòË¶ÅÂç°Áâá -->
                    <div class="row mb-4" id="reportSummaryCards">
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-shopping-cart fa-2x text-primary mb-2"></i>
                                    <h4 class="card-title text-primary" id="reportTotalOrders">-</h4>
                                    <p class="card-text text-muted">Á∏ΩË®ÇÂñÆÊï∏</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-dollar-sign fa-2x text-success mb-2"></i>
                                    <h4 class="card-title text-success" id="reportTotalRevenue">-</h4>
                                    <p class="card-text text-muted">Á∏ΩÁáüÊî∂</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-box fa-2x text-info mb-2"></i>
                                    <h4 class="card-title text-info" id="reportTotalItems">-</h4>
                                    <p class="card-text text-muted">Á∏ΩÂïÜÂìÅÊï∏</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body text-center">
                                    <i class="fas fa-calculator fa-2x text-warning mb-2"></i>
                                    <h4 class="card-title text-warning" id="reportAvgOrderValue">-</h4>
                                    <p class="card-text text-muted">Âπ≥ÂùáË®ÇÂñÆÈáëÈ°ç</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂúñË°®ÂíåÊéíË°å -->
                    <div class="row">
                        <!-- Èä∑ÂîÆË∂®Âã¢Âúñ -->
                        <div class="col-md-8 mb-4">
                            <div class="card table-card">
                                <div class="card-header">
                                    <h5><i class="fas fa-chart-line me-2"></i>Èä∑ÂîÆË∂®Âã¢</h5>
                                </div>
                                <div class="card-body">
                                    <div class="chart-container">
                                        <canvas id="salesTrendChart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ÁÜ±Èä∑ÂïÜÂìÅÊéíË°å -->
                        <div class="col-md-4 mb-4">
                            <div class="card table-card">
                                <div class="card-header">
                                    <h5><i class="fas fa-fire me-2"></i>ÁÜ±Èä∑ÂïÜÂìÅ</h5>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-sm">
                                            <thead>
                                                <tr>
                                                    <th>ÂïÜÂìÅ</th>
                                                    <th>Èä∑Èáè</th>
                                                    <th>ÁáüÊî∂</th>
                                                </tr>
                                            </thead>
                                            <tbody id="topProductsTable">
                                                <tr>
                                                    <td colspan="3" class="text-center text-muted">Ë´ãÁîüÊàêÂ†±Ë°®‰ª•Êü•ÁúãÊï∏Êìö</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂÆ¢Êà∂ÂàÜÊûê -->
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <div class="card table-card">
                                <div class="card-header">
                                    <h5><i class="fas fa-users me-2"></i>ÂÆ¢Êà∂ÂàÜÊûê</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row text-center">
                                        <div class="col-6">
                                            <div class="stat-item">
                                                <h4 class="text-success mb-1" id="reportNewCustomers">-</h4>
                                                <small class="text-muted">Êñ∞ÂÆ¢Êà∂</small>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="stat-item">
                                                <h4 class="text-primary mb-1" id="reportReturningCustomers">-</h4>
                                                <small class="text-muted">ÂõûË≥ºÂÆ¢Êà∂</small>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="text-center">
                                        <p class="mb-1"><strong>Âπ≥ÂùáÊØèÂÆ¢Êà∂Ë®ÇÂñÆÊï∏Ôºö</strong><span id="reportAvgOrdersPerCustomer">-</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Ë®ÇÂñÆÁãÄÊÖãÂàÜÊûê -->
                        <div class="col-md-6 mb-4">
                            <div class="card table-card">
                                <div class="card-header">
                                    <h5><i class="fas fa-chart-pie me-2"></i>Ë®ÇÂñÆÁãÄÊÖãÂàÜÊûê</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row text-center">
                                        <div class="col-4">
                                            <div class="stat-item">
                                                <h4 class="text-success mb-1" id="reportCompletedOrders">-</h4>
                                                <small class="text-muted">Â∑≤ÂÆåÊàê</small>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="stat-item">
                                                <h4 class="text-warning mb-1" id="reportPendingOrders">-</h4>
                                                <small class="text-muted">ËôïÁêÜ‰∏≠</small>
                                            </div>
                                        </div>
                                        <div class="col-4">
                                            <div class="stat-item">
                                                <h4 class="text-danger mb-1" id="reportCancelledOrders">-</h4>
                                                <small class="text-muted">Â∑≤ÂèñÊ∂à</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂÑ™Ë≥™ÂÆ¢Êà∂ÊéíË°å -->
                    <div class="card table-card">
                        <div class="card-header">
                            <h5><i class="fas fa-crown me-2"></i>ÂÑ™Ë≥™ÂÆ¢Êà∂ÊéíË°å</h5>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead class="table-light">
                                        <tr>
                                            <th>ÊéíÂêç</th>
                                            <th>ÂÆ¢Êà∂ÂßìÂêç</th>
                                            <th>Ë®ÇÂñÆÊï∏</th>
                                            <th>Á∏ΩÊ∂àË≤ª</th>
                                            <th>ÊúÄÂæå‰∏ãÂñÆ</th>
                                        </tr>
                                    </thead>
                                    <tbody id="topCustomersTable">
                                        <tr>
                                            <td colspan="5" class="text-center text-muted py-4">Ë´ãÁîüÊàêÂ†±Ë°®‰ª•Êü•ÁúãÊï∏Êìö</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>



                <div id="notifications" class="content-section" style="display: none;">
                    <h1 class="page-title">ÈÄöÁü•ÁÆ°ÁêÜ</h1>
                    <p class="text-muted">ÈÄöÁü•ÂäüËÉΩÈñãÁôº‰∏≠...</p>
                </div>

                <div id="settings" class="content-section" style="display: none;">
                    <h1 class="page-title">Á≥ªÁµ±Ë®≠ÂÆö</h1>
                    <p class="text-muted">Ë®≠ÂÆöÂäüËÉΩÈñãÁôº‰∏≠...</p>
                </div>
            </main>
        </div>
    </div>

    <!-- Âª∫Á´ãÂá∫Ë≤®ÊâπÊ¨°Ê®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="createShipmentModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Âª∫Á´ãÂá∫Ë≤®ÊâπÊ¨°</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createShipmentForm">
                        <input type="hidden" id="shipmentCustomerId">
                        <div class="mb-3">
                            <label class="form-label">ÊâπÊ¨°ÂêçÁ®±</label>
                            <input type="text" class="form-control" id="shipmentBatchName" placeholder="‰æãÔºö2025-01-15 ÊâπÊ¨°">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ÂÆ¢Êà∂</label>
                            <input type="text" class="form-control" id="shipmentCustomerName" readonly>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Êî∂‰ª∂Ë≥áË®ä</label>
                            <textarea class="form-control" id="shipmentShippingInfo" rows="3" placeholder="Êî∂‰ª∂‰∫∫ÂßìÂêç„ÄÅÈõªË©±„ÄÅÂú∞ÂùÄÁ≠â"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ÈÅãË≤ª</label>
                            <input type="number" class="form-control" id="shipmentShippingFee" value="60">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ÂÇôË®ª</label>
                            <textarea class="form-control" id="shipmentNotes" rows="2"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ÈÅ∏ÊìáÂïÜÂìÅÈ†ÖÁõÆ</label>
                            <div id="shipmentItemsContainer">
                                <!-- ÂãïÊÖãËºâÂÖ•ÂïÜÂìÅÈÅ∏Êìá -->
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÂèñÊ∂à</button>
                    <button type="button" class="btn btn-primary" onclick="createShipment()">Âª∫Á´ãÊâπÊ¨°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÁôºÈÄÅ‰ªòÊ¨æÈÄöÁü•Ê®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="sendPaymentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ÁôºÈÄÅ‰ªòÊ¨æÈÄöÁü•</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="sendPaymentForm">
                        <input type="hidden" id="paymentShipmentId">
                        <div class="mb-3">
                            <label class="form-label">ÊâπÊ¨°Ë≥áË®ä</label>
                            <div id="paymentShipmentInfo"></div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">‰ªòÊ¨æË™™Êòé</label>
                            <textarea class="form-control" id="paymentInstructions" rows="4" placeholder="Ë´ã‰ΩøÁî®ÈäÄË°åËΩâÂ∏≥‰ªòÊ¨æÔºåËΩâÂ∏≥ÂæåË´ãÂõûÂÇ≥ËΩâÂ∏≥Êà™Âúñ...">Ë´ã‰ΩøÁî®ÈäÄË°åËΩâÂ∏≥‰ªòÊ¨æÔºö

Â∏≥Êà∂Ôºö‰∏≠Âúã‰ø°Ë®ó 123-456-789012
Êà∂ÂêçÔºöCyndi ÈüìÂúãÁ´•Ë£ù‰ª£Ë≥º

ËΩâÂ∏≥ÂæåË´ãÂõûÂÇ≥ËΩâÂ∏≥Êà™ÂúñÔºåË¨ùË¨ùÔºÅ</textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÂèñÊ∂à</button>
                    <button type="button" class="btn btn-primary" onclick="sendPaymentRequest()">ÁôºÈÄÅÈÄöÁü•</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ë®ÇÂñÆÁãÄÊÖãÊõ¥Êñ∞Ê®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="updateOrderModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Êõ¥Êñ∞Ë®ÇÂñÆÁãÄÊÖã</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="newOrderStatus" class="form-label">Êñ∞ÁãÄÊÖã</label>
                        <select class="form-select" id="newOrderStatus">
                            <option value="ÂæÖ‰ªòÊ¨æ">ÂæÖ‰ªòÊ¨æ</option>
                            <option value="Â∑≤‰ªòÊ¨æ">Â∑≤‰ªòÊ¨æ</option>
                            <option value="ÈÖçË≤®‰∏≠">ÈÖçË≤®‰∏≠</option>
                            <option value="Â∑≤Âá∫Ë≤®">Â∑≤Âá∫Ë≤®</option>
                            <option value="Â∑≤ÂÆåÊàê">Â∑≤ÂÆåÊàê</option>
                            <option value="Â∑≤ÂèñÊ∂à">Â∑≤ÂèñÊ∂à</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="orderNotes" class="form-label">ÂÇôË®ª</label>
                        <textarea class="form-control" id="orderNotes" rows="3" placeholder="Êõ¥Êñ∞ÂÇôË®ªÔºàÈÅ∏Â°´Ôºâ"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÂèñÊ∂à</button>
                    <button type="button" class="btn btn-primary" onclick="updateOrderStatus()">Á¢∫Ë™çÊõ¥Êñ∞</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÂÆ¢Êà∂Ë©≥ÊÉÖÊ®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="customerDetailModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user me-2"></i>
                        ÂÆ¢Êà∂Ë©≥ÊÉÖ
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <!-- ÂÆ¢Êà∂Âü∫Êú¨Ë≥áË®ä -->
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="fas fa-id-card me-2"></i>Âü∫Êú¨Ë≥áË®ä</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-2">
                                        <strong>ÂßìÂêçÔºö</strong>
                                        <span id="customerDetailName">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>ÈõªË©±Ôºö</strong>
                                        <span id="customerDetailPhone">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>LINE IDÔºö</strong>
                                        <span id="customerDetailLineId">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>ÂÆ¢Êà∂Á≠âÁ¥öÔºö</strong>
                                        <span id="customerDetailLevel" class="badge">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>Êî∂‰ª∂ÊñπÂºèÔºö</strong>
                                        <span id="customerDetailDeliveryMethod">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>Êî∂‰ª∂Âú∞ÂùÄÔºö</strong>
                                        <span id="customerDetailAddress">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>Ë®ªÂÜäÊôÇÈñìÔºö</strong>
                                        <span id="customerDetailRegisteredAt">-</span>
                                    </div>
                                    <div class="mb-0">
                                        <strong>ÂÇôË®ªÔºö</strong>
                                        <span id="customerDetailNotes">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ê∂àË≤ªÁµ±Ë®à -->
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Ê∂àË≤ªÁµ±Ë®à</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row text-center">
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-primary mb-1" id="customerDetailTotalOrders">0</h4>
                                                <small class="text-muted">Á∏ΩË®ÇÂñÆÊï∏</small>
                                            </div>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-success mb-1" id="customerDetailTotalSpent">$0</h4>
                                                <small class="text-muted">Á∏ΩÊ∂àË≤ªÈáëÈ°ç</small>
                                            </div>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-info mb-1" id="customerDetailAvgOrder">$0</h4>
                                                <small class="text-muted">Âπ≥ÂùáË®ÇÂñÆÈáëÈ°ç</small>
                                            </div>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-warning mb-1" id="customerDetailLastOrder">-</h4>
                                                <small class="text-muted">ÊúÄÂæå‰∏ãÂñÆ</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÊúÄËøëË®ÇÂñÆ -->
                    <div class="card mt-3">
                        <div class="card-header">
                            <h6 class="mb-0"><i class="fas fa-history me-2"></i>ÊúÄËøëË®ÇÂñÆ</h6>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Ë®ÇÂñÆÁ∑®Ëôü</th>
                                            <th>Êó•Êúü</th>
                                            <th>ÈáëÈ°ç</th>
                                            <th>ÁãÄÊÖã</th>
                                        </tr>
                                    </thead>
                                    <tbody id="customerDetailOrders">
                                        <tr>
                                            <td colspan="4" class="text-center text-muted">ËºâÂÖ•‰∏≠...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÈóúÈñâ</button>
                    <button type="button" class="btn btn-primary" onclick="editCustomer()">
                        <i class="fas fa-edit me-2"></i>Á∑®ËºØÂÆ¢Êà∂
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Á∑®ËºØÂÆ¢Êà∂Ê®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="editCustomerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-user-edit me-2"></i>
                        Á∑®ËºØÂÆ¢Êà∂Ë≥áÊñô
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editCustomerForm">
                        <div class="mb-3">
                            <label for="editCustomerName" class="form-label">ÂÆ¢Êà∂ÂßìÂêç</label>
                            <input type="text" class="form-control" id="editCustomerName" required>
                        </div>
                        <div class="mb-3">
                            <label for="editCustomerPhone" class="form-label">ËÅØÁµ°ÈõªË©±</label>
                            <input type="tel" class="form-control" id="editCustomerPhone" required>
                        </div>
                        <div class="mb-3">
                            <label for="editCustomerLevel" class="form-label">ÂÆ¢Êà∂Á≠âÁ¥ö</label>
                            <select class="form-select" id="editCustomerLevel" required>
                                <option value="‰∏ÄËà¨ÊúÉÂì°">‰∏ÄËà¨ÊúÉÂì°</option>
                                <option value="VIPÊúÉÂì°">VIPÊúÉÂì°</option>
                                <option value="ÈªëÂêçÂñÆ">ÈªëÂêçÂñÆ</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editCustomerDeliveryMethod" class="form-label">Êî∂‰ª∂ÊñπÂºè</label>
                            <select class="form-select" id="editCustomerDeliveryMethod">
                                <option value="ÂÆÖÈÖçÂà∞Â∫ú">ÂÆÖÈÖçÂà∞Â∫ú</option>
                                <option value="7-11Â∫óÂà∞Â∫ó">7-11Â∫óÂà∞Â∫ó</option>
                                <option value="ÂÖ®ÂÆ∂Â∫óÂà∞Â∫ó">ÂÖ®ÂÆ∂Â∫óÂà∞Â∫ó</option>
                                <option value="ËêäÁàæÂØåÂ∫óÂà∞Â∫ó">ËêäÁàæÂØåÂ∫óÂà∞Â∫ó</option>
                                <option value="OKÂ∫óÂà∞Â∫ó">OKÂ∫óÂà∞Â∫ó</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editCustomerAddress" class="form-label">Êî∂‰ª∂Âú∞ÂùÄ</label>
                            <textarea class="form-control" id="editCustomerAddress" rows="2"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="editCustomerBirthday" class="form-label">ÁîüÊó•</label>
                            <input type="date" class="form-control" id="editCustomerBirthday">
                        </div>
                        <div class="mb-3">
                            <label for="editCustomerNotes" class="form-label">ÂÇôË®ª</label>
                            <textarea class="form-control" id="editCustomerNotes" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÂèñÊ∂à</button>
                    <button type="button" class="btn btn-primary" onclick="saveCustomerChanges()">
                        <i class="fas fa-save me-2"></i>ÂÑ≤Â≠òËÆäÊõ¥
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ÂïÜÂìÅË©≥ÊÉÖÊ®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="productDetailModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-box me-2"></i>
                        ÂïÜÂìÅË©≥ÊÉÖ
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <!-- ÂïÜÂìÅÂü∫Êú¨Ë≥áË®ä -->
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="fas fa-info-circle me-2"></i>Âü∫Êú¨Ë≥áË®ä</h6>
                                </div>
                                <div class="card-body">
                                    <div class="mb-2">
                                        <strong>ÂïÜÂìÅÂêçÁ®±Ôºö</strong>
                                        <span id="productDetailName">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>ÂïÜÂìÅÁ∑®ËôüÔºö</strong>
                                        <span id="productDetailCode">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>‰∏ªÂàÜÈ°ûÔºö</strong>
                                        <span id="productDetailCategory">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>ÂÉπÊ†ºÔºö</strong>
                                        <span id="productDetailPrice">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>ÂïÜÂìÅÁãÄÊÖãÔºö</strong>
                                        <span id="productDetailStatus" class="badge">-</span>
                                    </div>
                                    <div class="mb-2">
                                        <strong>Âª∫Á´ãÊôÇÈñìÔºö</strong>
                                        <span id="productDetailCreatedAt">-</span>
                                    </div>
                                    <div class="mb-0">
                                        <strong>ÂïÜÂìÅÊèèËø∞Ôºö</strong>
                                        <span id="productDetailDescription">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Èä∑ÂîÆÁµ±Ë®à -->
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-header">
                                    <h6 class="mb-0"><i class="fas fa-chart-line me-2"></i>Èä∑ÂîÆÁµ±Ë®à</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row text-center">
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-primary mb-1" id="productDetailTotalSold">0</h4>
                                                <small class="text-muted">Á∏ΩÈä∑ÂîÆÈáè</small>
                                            </div>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-success mb-1" id="productDetailTotalRevenue">$0</h4>
                                                <small class="text-muted">Á∏ΩÁáüÊî∂</small>
                                            </div>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-info mb-1" id="productDetailAvgPrice">$0</h4>
                                                <small class="text-muted">Âπ≥ÂùáÂñÆÂÉπ</small>
                                            </div>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <div class="stat-item">
                                                <h4 class="text-warning mb-1" id="productDetailLastSold">-</h4>
                                                <small class="text-muted">ÊúÄÂæåÈä∑ÂîÆ</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ÂïÜÂìÅËÆäÈ´î -->
                    <div class="card mt-3">
                        <div class="card-header">
                            <h6 class="mb-0"><i class="fas fa-layer-group me-2"></i>ÂïÜÂìÅËÆäÈ´î</h6>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Ê¨æÂºè</th>
                                            <th>È°èËâ≤</th>
                                            <th>Â∞∫ÂØ∏</th>
                                            <th>ÊÄßÂà•</th>
                                            <th>ÂÉπÊ†º</th>
                                            <th>ÁãÄÊÖã</th>
                                        </tr>
                                    </thead>
                                    <tbody id="productDetailVariants">
                                        <tr>
                                            <td colspan="4" class="text-center text-muted">ËºâÂÖ•‰∏≠...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- ÊúÄËøëÈä∑ÂîÆ -->
                    <div class="card mt-3">
                        <div class="card-header">
                            <h6 class="mb-0"><i class="fas fa-history me-2"></i>ÊúÄËøëÈä∑ÂîÆ</h6>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Ë®ÇÂñÆ</th>
                                            <th>Êï∏Èáè</th>
                                            <th>ÂñÆÂÉπ</th>
                                            <th>Êó•Êúü</th>
                                        </tr>
                                    </thead>
                                    <tbody id="productDetailRecentOrders">
                                        <tr>
                                            <td colspan="4" class="text-center text-muted">ËºâÂÖ•‰∏≠...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÈóúÈñâ</button>
                    <button type="button" class="btn btn-primary" onclick="editProduct()">
                        <i class="fas fa-edit me-2"></i>Á∑®ËºØÂïÜÂìÅ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Á∑®ËºØÂïÜÂìÅÊ®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="editProductModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-edit me-2"></i>
                        Á∑®ËºØÂïÜÂìÅË≥áÊñô
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="editProductForm">
                        <div class="mb-3">
                            <label for="editProductName" class="form-label">ÂïÜÂìÅÂêçÁ®±</label>
                            <input type="text" class="form-control" id="editProductName" required>
                        </div>
                        <div class="mb-3">
                            <label for="editProductCode" class="form-label">ÂïÜÂìÅÁ∑®Ëôü</label>
                            <input type="text" class="form-control" id="editProductCode">
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editProductCategory" class="form-label">‰∏ªÂàÜÈ°û</label>
                                    <select class="form-select" id="editProductCategory" required>
                                        <option value="‰∏äË°£">‰∏äË°£</option>
                                        <option value="Ë§≤Â≠ê">Ë§≤Â≠ê</option>
                                        <option value="Ê¥ãË£ù">Ê¥ãË£ù</option>
                                        <option value="Â§ñÂ•ó">Â§ñÂ•ó</option>
                                        <option value="ÈÖç‰ª∂">ÈÖç‰ª∂</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editProductPrice" class="form-label">ÂÉπÊ†º</label>
                                    <input type="number" class="form-control" id="editProductPrice" min="0" step="1">
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editProductStatus" class="form-label">ÂïÜÂìÅÁãÄÊÖã</label>
                            <select class="form-select" id="editProductStatus" required>
                                <option value="‰∏äÊû∂‰∏≠">‰∏äÊû∂‰∏≠</option>
                                <option value="Â∑≤‰∏ãÊû∂">Â∑≤‰∏ãÊû∂</option>
                                <option value="ÂîÆÂÆå">ÂîÆÂÆå</option>
                                <option value="È†êË≥º‰∏≠">È†êË≥º‰∏≠</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editProductDescription" class="form-label">ÂïÜÂìÅÊèèËø∞</label>
                            <textarea class="form-control" id="editProductDescription" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÂèñÊ∂à</button>
                    <button type="button" class="btn btn-primary" onclick="saveProductChanges()">
                        <i class="fas fa-save me-2"></i>ÂÑ≤Â≠òËÆäÊõ¥
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Êñ∞Â¢ûÂïÜÂìÅÊ®°ÊÖãÊ°Ü -->
    <div class="modal fade" id="addProductModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-plus me-2"></i>
                        Êñ∞Â¢ûÂïÜÂìÅ
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addProductForm">
                        <div class="mb-3">
                            <label class="form-label">ÂïÜÂìÅÂêçÁ®± *</label>
                            <input type="text" class="form-control" id="newProductName" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">ÂïÜÂìÅÁ∑®Ëôü</label>
                            <input type="text" class="form-control" id="newProductCode">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">ÂïÜÂìÅÂúñÁâáÁ∂≤ÂùÄ</label>
                            <input type="url" class="form-control" id="newProductImageUrl" placeholder="https://...">
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">‰∏ªÂàÜÈ°û</label>
                                <select class="form-control" id="newProductMainCategory">
                                    <option value="Á´•Ë£ù">Á´•Ë£ù</option>
                                    <option value="ÈÖç‰ª∂">ÈÖç‰ª∂</option>
                                    <option value="ÈûãÈ°û">ÈûãÈ°û</option>
                                </select>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">‰æÜÊ∫êÂúã</label>
                                <select class="form-control" id="newProductOriginCountry">
                                    <option value="ÈüìÂúã">ÈüìÂúã</option>
                                    <option value="Êó•Êú¨">Êó•Êú¨</option>
                                    <option value="Âè∞ÁÅ£">Âè∞ÁÅ£</option>
                                </select>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">ÊèèËø∞</label>
                            <textarea class="form-control" id="newProductDescription" rows="3"></textarea>
                        </div>

                        <hr class="my-4">
                        <h6 class="mb-3">ËÆäÈ´îË≥áË®ä</h6>

                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label class="form-label">Ê¨æÂºè</label>
                                <input type="text" class="form-control" id="newProductStyle" placeholder="‰æãÔºöÁü≠Ë¢ñ">
                            </div>

                            <div class="col-md-3 mb-3">
                                <label class="form-label">È°èËâ≤</label>
                                <input type="text" class="form-control" id="newProductColor" placeholder="‰æãÔºöÁôΩËâ≤">
                            </div>

                            <div class="col-md-3 mb-3">
                                <label class="form-label">Â∞∫ÂØ∏</label>
                                <input type="text" class="form-control" id="newProductSize" placeholder="‰æãÔºöM">
                            </div>

                            <div class="col-md-3 mb-3">
                                <label class="form-label">ÊÄßÂà•</label>
                                <select class="form-control" id="newProductGender">
                                    <option value="">‰∏çÈôê</option>
                                    <option value="Áî∑">Áî∑</option>
                                    <option value="Â•≥">Â•≥</option>
                                    <option value="‰∏≠ÊÄß">‰∏≠ÊÄß</option>
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">ÂÉπÊ†º (ÂÖÉ) *</label>
                                <input type="number" class="form-control" id="newProductPrice" required min="0" step="1">
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Â∫´Â≠ò</label>
                                <input type="number" class="form-control" id="newProductStock" value="10" min="0">
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">ÁãÄÊÖã</label>
                            <select class="form-control" id="newProductStatus">
                                <option value="‰∏äÊû∂‰∏≠">‰∏äÊû∂‰∏≠</option>
                                <option value="Â∑≤‰∏ãÊû∂">Â∑≤‰∏ãÊû∂</option>
                                <option value="È†êË≥º‰∏≠">È†êË≥º‰∏≠</option>
                            </select>
                        </div>
                    </form>

                    <div id="addProductSuccess" class="alert alert-success mt-3" style="display: none;"></div>
                    <div id="addProductError" class="alert alert-danger mt-3" style="display: none;"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ÂèñÊ∂à</button>
                    <button type="button" class="btn btn-primary" onclick="submitNewProduct()">
                        <i class="fas fa-check me-2"></i>Êñ∞Â¢ûÂïÜÂìÅ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="admin.js"></script>
</body>
</html> 